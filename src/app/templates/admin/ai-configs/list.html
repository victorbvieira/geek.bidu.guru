{% extends "admin/base.html" %}

{% block title %}Configuracoes de IA{% endblock %}

{% block breadcrumb %}
<span>/</span>
<span class="current">Configuracoes de IA</span>
{% endblock %}

{% block content %}
<div class="admin-page-header">
    <div class="admin-page-header-left">
        <h1 class="admin-page-title">Configuracoes de IA</h1>
        <p class="admin-page-subtitle">Configure provedores, modelos e prompts para cada caso de uso</p>
    </div>
</div>

<!-- Provider/Model Info -->
<div class="admin-card" style="margin-bottom: 1.5rem; background: var(--admin-bg-tertiary);">
    <div style="display: flex; align-items: center; gap: 1rem;">
        <span style="font-size: 2rem;">ðŸ¤–</span>
        <div>
            <strong>Google Gemini 2.0 Flash</strong> via OpenRouter
            <br>
            <small style="color: var(--admin-text-muted);">
                Modelo gratuito, rapido e eficiente para tarefas de SEO.
                <a href="https://openrouter.ai/models" target="_blank" style="color: var(--admin-primary);">Ver outros modelos</a>
            </small>
        </div>
    </div>
</div>

<!-- Lista de Configs -->
<div class="admin-card">
    <table class="admin-table">
        <thead>
            <tr>
                <th>Caso de Uso</th>
                <th>Nome</th>
                <th>Provedor / Modelo</th>
                <th>Temperatura</th>
                <th>Status</th>
                <th>Acoes</th>
            </tr>
        </thead>
        <tbody>
            {% for config in configs %}
            <tr>
                <td>
                    <code class="admin-code">{{ config.use_case.value }}</code>
                </td>
                <td>
                    <strong>{{ config.name }}</strong>
                    {% if config.description %}
                    <br>
                    <small style="color: var(--admin-text-muted);">{{ config.description[:60] }}{% if config.description|length > 60 %}...{% endif %}</small>
                    {% endif %}
                </td>
                <td>
                    <span class="admin-badge admin-badge-{{ 'primary' if config.provider.value == 'openrouter' else 'secondary' }}">
                        {{ config.provider.value }}
                    </span>
                    <br>
                    <small>{{ config.model }}</small>
                </td>
                <td>{{ config.temperature }}</td>
                <td>
                    {% if config.is_active %}
                    <span class="admin-badge admin-badge-success">Ativo</span>
                    {% else %}
                    <span class="admin-badge admin-badge-secondary">Inativo</span>
                    {% endif %}
                </td>
                <td>
                    <a href="/admin/ai-configs/{{ config.id }}" class="admin-btn admin-btn-sm admin-btn-secondary">
                        Editar
                    </a>
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="6" class="admin-empty-state">
                    Nenhuma configuracao encontrada.
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<!-- Help -->
<div class="admin-card" style="margin-top: 1.5rem;">
    <h3 style="margin-bottom: 1rem;">Como funciona</h3>
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
        <div>
            <strong>SEO Title</strong>
            <p style="color: var(--admin-text-muted); font-size: 0.875rem;">
                Gera titulos otimizados para SEO (max 60 caracteres) a partir do titulo original.
            </p>
        </div>
        <div>
            <strong>SEO Description</strong>
            <p style="color: var(--admin-text-muted); font-size: 0.875rem;">
                Gera meta descriptions atrativas (120-160 caracteres) para melhor CTR.
            </p>
        </div>
        <div>
            <strong>SEO Keywords</strong>
            <p style="color: var(--admin-text-muted); font-size: 0.875rem;">
                Sugere palavras-chave relevantes incluindo variacoes long-tail.
            </p>
        </div>
        <div>
            <strong>Product Description</strong>
            <p style="color: var(--admin-text-muted); font-size: 0.875rem;">
                Gera descricoes curtas e longas para produtos de afiliados.
            </p>
        </div>
    </div>
</div>
{% endblock %}
