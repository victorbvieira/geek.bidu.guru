{% extends "base.html" %}

{% block content %}
<section class="hero">
    <div class="container">
        <h1>Encontre o presente geek perfeito</h1>
        <p class="hero-subtitle">
            Listas, reviews e ideias criadas por geeks, para geeks - com os melhores achados da Amazon, Mercado Livre e Shopee.
        </p>
        <div class="hero-cta">
            <a href="/categorias/ocasiao" class="btn btn-primary">Ver por ocasiao</a>
            <a href="/categorias/preco/ate-100" class="btn btn-secondary">Presentes ate R$ 100</a>
        </div>
    </div>
</section>

<section class="featured">
    <div class="container">
        <h2>Destaques</h2>
        {% if featured_products %}
        <p class="section-description">Os melhores presentes geek selecionados para voce</p>
        <div class="products-grid-home">
            {% for product in featured_products %}
            <article class="product-card-home">
                {% if product.main_image_url %}
                <a href="/produto/{{ product.slug }}" class="product-image-home">
                    <img src="{{ product.main_image_url }}" alt="{{ product.name }}" loading="lazy">
                </a>
                {% else %}
                <a href="/produto/{{ product.slug }}" class="product-image-home product-image-placeholder">
                    <span>Sem imagem</span>
                </a>
                {% endif %}
                <div class="product-content-home">
                    <span class="product-platform platform-{{ product.platform.value }}">
                        {{ product.platform.value | title }}
                    </span>
                    <h3 class="product-name-home">
                        <a href="/produto/{{ product.slug }}">{{ product.name[:50] }}{% if product.name|length > 50 %}...{% endif %}</a>
                    </h3>
                    {% if product.price %}
                    <span class="product-price-home">{{ product.price | format_price }}</span>
                    {% endif %}
                    <a href="/goto/{{ product.affiliate_redirect_slug }}" class="product-cta-home" target="_blank" rel="noopener sponsored">
                        Ver oferta
                    </a>
                </div>
            </article>
            {% endfor %}
        </div>
        <div class="see-all">
            <a href="/produtos" class="btn btn-secondary">Ver todos os produtos</a>
        </div>
        {% elif featured_posts %}
        <p class="section-description">Os melhores artigos sobre presentes geek</p>
        <div class="posts-grid">
            {% for post in featured_posts %}
            <article class="post-card">
                {% if post.featured_image_url %}
                <a href="/blog/{{ post.slug }}" class="post-image">
                    <img src="{{ post.featured_image_url }}" alt="{{ post.title }}" loading="lazy">
                </a>
                {% endif %}
                <div class="post-content">
                    <h3 class="post-title">
                        <a href="/blog/{{ post.slug }}">{{ post.title }}</a>
                    </h3>
                    {% if post.subtitle %}
                    <p class="post-excerpt">{{ post.subtitle[:100] }}{% if post.subtitle|length > 100 %}...{% endif %}</p>
                    {% endif %}
                </div>
            </article>
            {% endfor %}
        </div>
        <div class="see-all">
            <a href="/blog" class="btn btn-secondary">Ver todos os artigos</a>
        </div>
        {% else %}
        <p class="section-description">Em breve: os melhores presentes geek selecionados para voce!</p>
        <div class="posts-grid">
            <div class="placeholder-card">
                <p>Conteudo em construcao...</p>
            </div>
        </div>
        {% endif %}
    </div>
</section>

<section class="categories">
    <div class="container">
        <h2>Navegue por Categoria</h2>
        <div class="category-grid">
            <a href="/categorias/gamer" class="category-card">
                <span class="category-icon">üéÆ</span>
                <span class="category-name">Gamer</span>
            </a>
            <a href="/categorias/dev" class="category-card">
                <span class="category-icon">üíª</span>
                <span class="category-name">Dev</span>
            </a>
            <a href="/categorias/otaku" class="category-card">
                <span class="category-icon">üéå</span>
                <span class="category-name">Otaku</span>
            </a>
            <a href="/categorias/star-wars" class="category-card">
                <span class="category-icon">‚≠ê</span>
                <span class="category-name">Star Wars</span>
            </a>
            <a href="/categorias/marvel" class="category-card">
                <span class="category-icon">ü¶∏</span>
                <span class="category-name">Marvel</span>
            </a>
            <a href="/categorias/boardgames" class="category-card">
                <span class="category-icon">üé≤</span>
                <span class="category-name">Board Games</span>
            </a>
        </div>
    </div>
</section>

<section class="newsletter">
    <div class="container">
        <h2>Fique por dentro!</h2>
        <p>Receba as melhores ideias de presentes geek toda semana.</p>
        <form class="newsletter-form" action="/api/v1/newsletter" method="POST">
            <input type="email" name="email" placeholder="Seu melhor e-mail" required>
            <button type="submit" class="btn btn-primary">Inscrever</button>
        </form>
    </div>
</section>
{% endblock %}
